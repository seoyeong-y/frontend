# 2025-07-16 트러블슈팅 로그: PiP 모드, 백엔드 연동, UI/DB 개선

## 1. PiP(항상 위에 고정) 모드 구현 시도 및 실패
- 목표: 메모앱에 PiP(Picture-in-Picture) 모드(항상 위에 고정되는 미니 창) 구현
- 시도 과정:
  - MacOS 스타일 상단바 노란 버튼을 PiP 진입 트리거로 설계
  - PiP 모드 진입 시 네모난 최소화 창(320x220, 좌측하단, 라운드)로 렌더링, 상단바에 동일한 MacOS 버튼(빨강: PiP 해제)
  - PiP 모드에서는 제목/본문/저장만 제공, 나머지 기능(검색, 폴더 등) 숨김
- 문제점 및 실패 원인:
  - PiP 관련 상태/핸들러/조건부 렌더링이 많아 코드가 복잡해짐
  - PiP 모드 진입/해제 시 상태 동기화 꼬임, UI/상태 불일치 발생
  - 여러 번 리팩토링 시도했으나, 기존 메모앱 구조와 충돌 및 UX 혼란
- 최종 결정: PiP 모드 관련 코드/상태/핸들러/스타일 **전면 삭제**, 상단바에 노란 버튼만 남기고 추후 확장 대비

## 2. 백엔드 첫 연동 시도 및 반복 에러
- 목표: 프론트엔드 메모앱과 백엔드 API 연동(메모 CRUD, 동기화)
- 시도 과정:
  - fetch/axios로 API 호출, 데이터 동기화 로직 작성
  - 서버 상태, API 응답, 프론트엔드 fetch/axios 호출 등 점검
- 문제점:
  - 백엔드 서버와 프론트 데이터 구조 불일치, 응답값 파싱 오류
  - API 호출 시 500/404 등 에러 빈번, CORS/인증 문제도 발생
  - 실제로 백엔드 코드에는 오늘 변경사항 없음(working tree clean)
- 해결 과정:
  - 서버 상태 점검, API 문서/스키마 재확인, 프론트엔드 fetch/axios 로직 수정
  - git status/commit/push로 동기화 상태 재확인
- 결과: **프론트엔드만 커밋/푸시**, 백엔드 연동은 내일 추가 점검 예정

## 3. 프론트엔드 UI 개선 및 리팩토링
- PiP 모드 제거 후 UI 일관성 확보
- 상단바에 노란 PushPin 버튼만 남기고, 추후 확장 대비 disabled 처리
- 메모앱 폴더/메모리스트/상세 구조 리팩토링, 불필요한 상태/핸들러/스타일 정리
- 커밋 메시지: `[메모앱] PiP 모드 완전 제거, 노란 버튼만 상단바에 남김 (향후 확장용)`

## 4. 데이터베이스/모델 구조 재설계 고민
- 메모 데이터 구조(필드, 타입, 관계) 재정의 필요성 인지
- 프론트-백엔드 데이터 모델 싱크 맞추기 위해 타입/스키마 점검
- 향후 DB 마이그레이션/모델 리팩토링 계획 수립

---

## 🧠 오늘의 고민/흔적들
- PiP 모드 UX를 어떻게 하면 자연스럽고, 기존 메모앱과 충돌 없이 넣을 수 있을지 여러 번 설계/실험
- 상태 동기화, 조건부 렌더링, 핸들러 분리 등에서 꼬임이 많아 결국 과감히 제거 결정
- 백엔드 연동 시도 중 API 응답/스키마/인증 등에서 계속 막혀서, 실제 데이터 흐름을 내일 더 집중적으로 점검하기로 함
- UI/DB 구조를 단순화하고, 커밋/작업 로그를 꼼꼼히 남기는 습관의 중요성 재확인

---

## 내일 할 일
- 백엔드 연동 문제 추가 점검 및 실제 데이터 흐름 테스트
- PiP 버튼 확장 기능 기획 및 구현 준비
- 사용자 피드백 수집 및 UI/UX 개선 